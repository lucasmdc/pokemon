{"version":3,"sources":["provider/theme.jsx","components/BaseLink/index.jsx","components/BaseButton/index.jsx","services/fetch/index.js","services/api.js","pages/CharacterDetails/api.js","pages/CharacterDetails/utils.js","pages/CharacterDetails/components/ChooseCharacter/index.jsx","assets/images/charmander.png","assets/images/squirtle.png","assets/images/bulbasaur.png","assets/images/pikachu.png","polices.js","pages/CharacterDetails/index.jsx","assets/images/pokemon.jpg","pages/Home/index.jsx","routes.jsx","components/BaseContainer/index.jsx","App.jsx","index.jsx"],"names":["ThemeContext","createContext","initialState","name","reducer","state","action","type","key","value","updateTheme","payload","ThemeProvider","props","useReducer","dispatch","Provider","themeDispatch","children","BaseLink","className","to","BaseButton","classes","onClick","ev","disabled","_api","_baseURL","process","REACT_APP_API","_headers","_mergeConfig","config","copyConfig","headers","header","this","_fetch","url","fetch","get","Promise","resolve","reject","then","res","json","data","catch","error","api","getCharacterDetails","id","getRandomCharacter","a","getRandomCharacters","apiGetCharacterDetails","race","result","ChooseCharacter","useContext","useState","disable","setDisable","onAfterChooseCharacterDone","join","themes","charmander","squirtle","bulbasaur","pikachu","images","CharacterDetail","imageUrl","setImageUrl","history","useHistory","useEffect","getImage","push","src","alt","Home","location","useLocation","pokemon","routes","basename","component","path","exact","BaseContainer","setClasses","theme","classTheme","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40e91ca7.chunk.js","sourcesContent":["import React, { createContext, useReducer } from 'react'\n\nexport const ThemeContext = createContext()\n\nconst initialState = {\n    name: ''\n}\n\nfunction reducer (state, action) {\n    switch (action.type) {\n        case 'setName':\n            return updateTheme(state, 'name', action.payload)\n        default:\n            return state\n    }\n}\n\nfunction updateTheme (state, key, value) {\n    return ({\n        ...state,\n        [key]: value\n    })\n}\n\nexport const ThemeProvider = props => {\n    const [state, dispatch] = useReducer(reducer, initialState)\n\n    \n    return (\n        <ThemeContext.Provider value={{\n            name: state.name,\n            themeDispatch: dispatch\n        }}>\n            { props.children }\n        </ThemeContext.Provider>\n    )\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport './styles.css'\n\nexport default function BaseLink(props) {\n    return (\n        <Link className=\"base-link\" to={props.to ? props.to : '/'}> \n            <span className=\"base-link__box\">\n                <i className=\"base-link__icon\"></i>\n                <span className=\"base-link__text\">{ props.children }</span>\n            </span>\n        </Link>\n    )\n}","import React from 'react'\n\nimport './styles.css'\n\nexport default function BaseButton(props) {\n    function handleClick(ev) {\n        props.onClick(ev)\n    }\n\n    return (\n        <button \n            className={ `base-button ${props.classes}` }\n            onClick={ handleClick }\n            disabled={props.disabled}\n        >{ props.children }</button>\n    )\n}","const _api =  {\n    _baseURL: process.env.REACT_APP_API,\n    _headers: {\n        'Cache-Control': 'no-cache'\n    },\n    _mergeConfig(config) {\n        const copyConfig = {...config}\n        copyConfig.headers = { ...copyConfig.header, ...this._headers }\n\n        return copyConfig\n    },\n    _fetch(url, config = {}) {\n        return fetch(`${this._baseURL}${url}`, this._mergeConfig(config))\n    },\n    get(url, config = {}) {\n        return new Promise((resolve, reject) => {\n            return this._fetch(url, this._mergeConfig(config))\n            .then(res => res.json())\n            .then(data => { resolve({ data: data }) })\n            .catch(error => { reject(error)})\n        })\n    }\n}\n\nexport default _api","import _api from \"./fetch\"\n\nconst api = {\n    _api,\n    get (url, config = {}) {\n        return _api.get(url, config)\n    }\n}\n\n\nexport default api","import api from '../../services/api'\n\nconst getCharacterDetails = (id) => {\n    return api.get(`pokemon/${id}`)\n}\n\nexport default getCharacterDetails","import apiGetCharacterDetails from './api'\n\nexport default async function getRandomCharacter() {\n    const getRandomCharacters = [\n        apiGetCharacterDetails('charmander'), \n        apiGetCharacterDetails('squirtle'), \n        apiGetCharacterDetails('bulbasaur'),\n        apiGetCharacterDetails('pikachu')\n    ]\n    \n    try {\n        const result = await Promise.race(getRandomCharacters)\n\n        const name = result.data.name\n        \n        return {\n            name\n        }\n        \n    } catch (error) {\n        throw error\n    }\n}","import React, { useContext, useState } from 'react'\n\nimport BaseButton from '../../../../components/BaseButton'\n\nimport './styles.css'\n\nimport getRandomCharacter from '../../utils'\nimport { ThemeContext } from '../../../../provider/theme'\n\n\nconst ChooseCharacter = props => {\n    const { themeDispatch } = useContext(ThemeContext)\n    const [disable, setDisable] = useState(false)\n\n    async function handleClick() {\n        setDisable(true)\n        const { name } = await getRandomCharacter()\n            \n        themeDispatch({type: 'setName', payload:name })\n        \n        setDisable(false)\n        \n        if (props.onAfterChooseCharacterDone) {\n            props.onAfterChooseCharacterDone()\n        }\n        \n    }\n\n    return (\n        <BaseButton \n            classes={[props.classes, \"character-details__play\"].join(' ')} \n            onClick={ handleClick }\n            disabled={disable}>\n                { props.children }\n            </BaseButton>\n    )\n}\n\nexport default ChooseCharacter","export default __webpack_public_path__ + \"static/media/charmander.4fd5701a.png\";","export default __webpack_public_path__ + \"static/media/squirtle.5406ef59.png\";","export default __webpack_public_path__ + \"static/media/bulbasaur.961a737a.png\";","export default __webpack_public_path__ + \"static/media/pikachu.d20bdd5d.png\";","import charmander from './assets/images/charmander.png'\nimport squirtle from './assets/images/squirtle.png'\nimport bulbasaur from './assets/images/bulbasaur.png'\nimport pikachu from './assets/images/pikachu.png'\n\nconst themes = {\n    charmander: 'fire-theme',\n    squirtle: 'water-theme',\n    bulbasaur: 'grass-theme',\n    pikachu: 'lightning-theme'\n}\n\nconst images = {\n    charmander,\n    squirtle,\n    bulbasaur,\n    pikachu\n}\n  \nexport const getTheme = (name) => {\n    return themes[name] || ''\n}\n\nexport const getImage = (name) => {\n    return images[name] || '' \n}\n","import React, { useState, useContext, useEffect } from 'react'\nimport { ThemeContext } from '../../provider/theme'\n\nimport { useHistory } from 'react-router-dom'\n\nimport BaseLink from 'components/BaseLink'\nimport ChooseCharacter from './components/ChooseCharacter'\n\nimport { getImage } from '../../polices'\n\nimport './styles.css'\n\nexport default function CharacterDetail() {\n    const { name } = useContext(ThemeContext)\n    const [imageUrl, setImageUrl] = useState ('')\n    const history = useHistory()\n\n    useEffect(function () {\n        let imageUrl = getImage(name)\n\n        setImageUrl(imageUrl)\n    }, [name])\n    \n    useEffect(function () {\n        if(history.action === 'POP') {\n            history.push('/')\n        } \n    }, [history])\n    \n    return (\n        <section className=\"character-details\">\n            <header className=\"character-details__header-page\">\n                <BaseLink>back</BaseLink>\n            </header>\n            <article className=\"character-details__content-page\">\n                <figure className=\"character-details__character\"> \n                    <img \n                        className=\"character-details__character__image\"\n                        src={imageUrl} \n                        alt={name}\n                    />\n                    <figcaption className=\"character-details__character__description\">\n                        Your pokemon is <strong>{name}</strong>\n                    </figcaption>\n                </figure>\n               <ChooseCharacter>Choose your pokemon again</ChooseCharacter>\n            </article>\n        </section>\n    )\n}","export default __webpack_public_path__ + \"static/media/pokemon.b3808f12.jpg\";","import React, { useContext, useEffect } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\n\nimport { ThemeContext } from '../../provider/theme'\n\nimport ChooseCharacter from '../CharacterDetails/components/ChooseCharacter'\nimport './styles.css'\n\nimport pokemon from '../../assets/images/pokemon.jpg'\n\nexport default function Home() {\n    const { themeDispatch } = useContext(ThemeContext)\n    const history = useHistory()\n    const location = useLocation()\n\n    function handleOnAfterChooseCharacterDone() {\n        history.push('/character-details')\n    }\n\n    useEffect(function(){\n        themeDispatch({type:'setName', payload: ''})\n    },[location, themeDispatch])\n\n    return (\n        <section className=\"home\">\n            <div className=\"home__greetings\">\n                <div className=\"home__greetings__box\">\n                    <div className=\"home__title\">\n                        <span>Welcome to </span>\n                        <h1 className=\"home__brand\">Pokémon</h1>\n                    </div>\n                    <img src={pokemon} \n                        alt=\"pokémon - primeira geração\"\n                    />\n                    <h4 className=\"home__subtitle\">KNOW WHAT WILL BE YOURS</h4>\n                </div>\n                <ChooseCharacter \n                    classes=\"home__start\" \n                    onAfterChooseCharacterDone={ handleOnAfterChooseCharacterDone }\n                    >\n                        S T A R T\n                    </ChooseCharacter>\n            </div>\n        </section>\n    )\n}","import React from 'react'\nimport { BrowserRouter, Route } from 'react-router-dom'\n\nimport CharacterDetail from 'pages/CharacterDetails' \nimport Home from 'pages/Home' \n\nexport default function routes() {\n    return (\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <Route component={ Home } path=\"/\" exact/>\n            <Route component={ CharacterDetail } path=\"/character-details\"/>  \n        </BrowserRouter>\n    )\n}","import React, { useState, useEffect } from 'react'\n\nimport { getTheme } from '../../polices'\n\nimport './styles.css'\n\nexport default function BaseContainer(props) {\n    const [classes, setClasses] = useState('base-container')\n    \n    useEffect(function () {\n        const theme = getTheme(props.classTheme)\n\n        setClasses(`${theme} base-container`)\n    },[props.classTheme])\n\n    return (\n        <div className={classes}>\n            { props.children }\n        </div>\n    )\n} ","import React, { useContext } from 'react'\nimport Routes from './routes'\n\nimport BaseContainer from './components/BaseContainer'\nimport { ThemeContext } from './provider/theme';\n\nimport './assets/global.css';\n\nfunction App() {\n    const { name } = useContext(ThemeContext)\n\n    return ( \n        <BaseContainer classTheme={name} >\n            <Routes />\n        </BaseContainer>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ThemeProvider } from './provider/theme';\nimport App from 'App';\n\n\nReactDOM.render(\n  <ThemeProvider>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}